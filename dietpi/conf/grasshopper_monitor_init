#!/bin/bash
{
	#////////////////////////////////////
	# DietPi Grasshopper Monitor control Script
	#
	#////////////////////////////////////
	# Created by Dan Knight / daniel_haze@hotmail.com / fuzon.co.uk
	#
	# Info:
	# - Location /etc/grasshopper_monitor_init
	# - Allows service control for Grasshoppers monitor application
	# - Called from /boot/dietpi/dietpi-services
	#
	#////////////////////////////////////

	Grasshopper_Monitor_Stop(){
	
		killall python &> /dev/null
	}

	Grasshopper_Monitor_Start(){

		#su -c 'python /var/www/exec/monitor/monitor.py > /dev/null &' www-data
		su -c 'python /var/www/exec/monitor/monitor.py > /dev/null &' pi
	}

	if [ "$1" = "stop" ] || [ "$1" = "restart" ]; then
		Grasshopper_Monitor_Stop
	fi

	if [ "$1" = "start" ] || [ "$1" = "restart" ]; then
		Grasshopper_Monitor_Start
	fi

	exit

}