#!/bin/bash
{
	#////////////////////////////////////
	# DietPi Cron.Hourly script
	#
	#////////////////////////////////////
	#
	# Info:
	# - Location /etc/cron.hourly/dietpi
	#
	#////////////////////////////////////

	LOGGING_MODE=0
	if [ -f /boot/dietpi/.installed ]; then
		LOGGING_MODE=$(cat /boot/dietpi/.installed | grep 'INDEX_LOGGING_CURRENT ' | awk '{print $2}')
	fi
	
	#----------------------------------------------------------------
	# Main Loop
	#----------------------------------------------------------------
	# Logging
	
	#Mode -2 | Update current log files data to /"$HOME"/logfile_storage/*. Then clear.
	if (( $LOGGING_MODE == -2 )); then
		/boot/dietpi/dietpi-logclear 1 &> /dev/null
	#Mode -3 | clear all log files.
	elif (( $LOGGING_MODE == -3 )); then
		/boot/dietpi/dietpi-logclear 0 &> /dev/null
	fi

	#----------------------------------------------------------------
	exit
	#----------------------------------------------------------------
}