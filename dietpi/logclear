#!/bin/bash
{
	#////////////////////////////////////
	# DietPi logclear Script
	#
	#////////////////////////////////////
	# Created by Dan Knight / daniel_haze@hotmail.com / fuzon.co.uk
	#
	#////////////////////////////////////
	#
	# Info:
	# - Deletes all logs in /var/log - recursive
	# - Touches /var/log/ramlog
	#////////////////////////////////////

	#////////////////////////////////////
	# Run
	#////////////////////////////////////
	
	#Find existing logs and read into an array
	find /var/log -type f > /run/existing_log_files
	readarray -t logfilearray < /run/existing_log_files
	
	#touch all the previous existing logfiles
	for ((i=0; i<${#logfilearray[@]}; i++))
	do
		echo -e "" > "${logfilearray[$i]}"
		#chmod 777 "${logfilearray[$i]}"
	done

	rm /run/existing_log_files &> /dev/null
	
	#delete[] array
	unset logfilearray
	
	#Run whole script in a function. Loads into memory, allows for online file patching.
	exit
}